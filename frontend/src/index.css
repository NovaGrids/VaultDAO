@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --transition-speed: 0.3s;
  }

  body {
    /* Instead of hardcoded gray-900, we use theme-aware classes or variables */
    @apply bg-white text-gray-900 transition-colors duration-300;
  }

  .dark body {
    @apply bg-gray-900 text-white;
  }
}

/* Custom Scrollbar Styling */
@layer utilities {
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }
  
  .dark .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-gray-700;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-accent;
  }

  /* Firefox support */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: #d1d5db transparent;
  }
  
  .dark .custom-scrollbar {
    scrollbar-color: #374151 transparent;
  }

  /* Toast animations */
  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  @keyframes slideOutRight {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(100%); opacity: 0; }
  }

  .animate-slide-in-right { animation: slideInRight 0.3s ease-out forwards; }
  .animate-slide-out-right { animation: slideOutRight 0.3s ease-in forwards; }

  /* React Grid Layout Styles */
  .react-grid-layout {
    position: relative;
    transition: height 200ms ease;
  }

  .react-grid-item {
    transition: all 200ms ease;
    transition-property: left, top, width, height;
  }

  /* RTL Support */
  html[dir="rtl"] {
    direction: rtl;
    text-align: right;
  }

  html[dir="rtl"] body {
    direction: rtl;
  }

  /* RTL-aware spacing utilities */
  html[dir="rtl"] .ml-4 { margin-left: 0; margin-right: 1rem; }
  html[dir="rtl"] .ml-3 { margin-left: 0; margin-right: 0.75rem; }
  html[dir="rtl"] .ml-2 { margin-left: 0; margin-right: 0.5rem; }
  html[dir="rtl"] .mr-4 { margin-right: 0; margin-left: 1rem; }
  html[dir="rtl"] .mr-3 { margin-right: 0; margin-left: 0.75rem; }
  html[dir="rtl"] .mr-2 { margin-right: 0; margin-left: 0.5rem; }
  html[dir="rtl"] .pl-4 { padding-left: 0; padding-right: 1rem; }
  html[dir="rtl"] .pl-3 { padding-left: 0; padding-right: 0.75rem; }
  html[dir="rtl"] .pr-4 { padding-right: 0; padding-left: 1rem; }
  html[dir="rtl"] .pr-3 { padding-right: 0; padding-left: 0.75rem; }

  /* RTL Flexbox utilities */
  html[dir="rtl"] .flex-row { flex-direction: row-reverse; }
  html[dir="rtl"] .justify-end { justify-content: flex-start; }
  html[dir="rtl"] .justify-start { justify-content: flex-end; }

  /* RTL Transform utilities */
  html[dir="rtl"] .rotate-180 { transform: scaleX(-1) rotate(180deg); }

  /* RTL border radius */
  html[dir="rtl"] .rounded-l { border-radius: 0; border-top-right-radius: 0.25rem; border-bottom-right-radius: 0.25rem; }
  html[dir="rtl"] .rounded-r { border-radius: 0; border-top-left-radius: 0.25rem; border-bottom-left-radius: 0.25rem; }

  /* RTL specific animations */
  @keyframes slideInLeft {
    from { transform: translateX(-100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  @keyframes slideOutLeft {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(-100%); opacity: 0; }
  }

  html[dir="rtl"] .animate-slide-in-right {
    animation: slideInLeft 0.3s ease-out forwards;
  }

  html[dir="rtl"] .animate-slide-out-right {
    animation: slideOutLeft 0.3s ease-in forwards;
  }

  /* Custom scrollbar for RTL */
  html[dir="rtl"] .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
}